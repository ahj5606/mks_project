<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mks.Mapper.clientMapper">
<!-- crm_HospitalDao 부분 -->
	<!-- 
	<select id="hospitalList" parameterType="map" resultType="map">
         SELECT
            hp_name
          FROM mks_hospital
          WHERE 1 = 1
          AND 
          <if test="hp_open != null">
              AND hp_open = #{hp_open}
          </if>
          <if test="hp_close !=  null">
              AND hp_close = #{hp_close}    
          </if> 
	</select>
	 -->
	<select id="hospitalList" parameterType="map" resultType="map">
		SELECT
		   h.hp_name, h.hp_address, d.dept_name, h.hp_open, h.hp_close 
		 FROM mks_hospital h, mks_dept d
		 WHERE hp_open = #{hp_open} 
		 AND hp_close = #{hp_close}
	</select>
<!-- crm_ReservationDao 부분 -->	
	<select id="reservationList" parameterType="map" resultType="map">
		SELECT 
		    dept_name, doc_code, doc_name
		  FROM mks_doctor
		  <if test="hp_code != null">
			  WHERE hp_code = #{hp_code}
		  </if>
		  <if test="dept_code != null">
			  AND dept_code = #{dept_code}
		  </if>
		  <if test="doc_name != null">
			  AND doc_name = #{doc_name}	
		  </if>
	</select>
	<select id="docSel" parameterType="map" resultType="map">
		SELECT 
		    doc_name, dept_name, doc_position, doc_education
		  FROM mks_doctor
		  WHERE hp_code = #{hp_code}
	</select>
	
<!-- crm_HealthDao 부분 -->
<!-- crm_LoginDao 부분 -->
	
<!-- crm_MypageDao 부분 -->	
	<select id="proc_mem_Add" parameterType="map" statementType="CALLABLE">
		{call proc_mem_Add (
			#{u_id, mode=IN, jdbcType=VARCHAR}
			,#{u_pw, mode=IN, jdbcType=VARCHAR}
			,#{msg, mode=OUT, jdbcType=VARCHAR}
			,#{u_soc, mode=IN, jdbcType=VARCHAR}
			,#{u_addr, mode=IN, jdbcType=VARCHAR}
			,#{u_phone, mode=IN, jdbcType=VARCHAR}
			,#{u_name, mode=IN, jdbcType=VARCHAR}
		)}
	</select>
	
</mapper>